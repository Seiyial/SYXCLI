#!/bin/bash

tput setaf 11
clear

case "$1" in
  i|install|deps)
    echo "
      💠  SeiyianHQ 💠  :: INSTALL (1) Deps
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    mix deps.get
    clear
    echo "
      💠  SeiyianHQ 💠  :: INSTALL (2) Yarn Packages
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    cd ~/SyxWorks/SHQ/apps/Aurora/assets && yarn install
    clear
    echo "
      💠  SeiyianHQ 💠  :: Setup Complete
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    ;;
  s|server|svr)
    echo "
      💠  SeiyianHQ 💠  :: SERVER
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    source .env && iex -S mix phx.server
    ;;
  db|m|migrate)
    clear
    echo "
      💠  SeiyianHQ 💠  :: Mix Ecto.Migrate
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    mix ecto.migrate
    ;;
  ss)
    clear
    echo "
      💠  SeiyianHQ 💠  :: SERVER (no-console)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
  "
    mix phx.server
    ;;
  "")
    echo "
      💠  SHQ 💠     welcome!"
    ;;
  *)
    echo "
      💠  SHQ 💠
    ☔️  invalid command"
  ;;
esac